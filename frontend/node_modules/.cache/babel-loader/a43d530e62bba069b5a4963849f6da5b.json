{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _classCallCheck from \"C:/Users/lukas/Desktop/MailMergeExercise/mailmergeexercise/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/lukas/Desktop/MailMergeExercise/mailmergeexercise/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"C:/Users/lukas/Desktop/MailMergeExercise/mailmergeexercise/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/Users/lukas/Desktop/MailMergeExercise/mailmergeexercise/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\lukas\\\\Desktop\\\\MailMergeExercise\\\\mailmergeexercise\\\\frontend\\\\src\\\\pages\\\\FormsPage.js\";\nimport React, { Component } from 'react';\nimport { MDBContainer, MDBRow, MDBCol, MDBInput, MDBBtn, MDBIcon, MDBAnimation } from 'mdbreact';\nimport SectionContainer from '../components/sectionContainer';\n\nvar FormsPage = /*#__PURE__*/function (_Component) {\n  _inherits(FormsPage, _Component);\n\n  var _super = _createSuper(FormsPage);\n\n  function FormsPage() {\n    var _this;\n\n    _classCallCheck(this, FormsPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      formActivePanel1: 1,\n      formActivePanel1Changed: false,\n      template: \"\",\n      isLoading: false,\n      isError: false,\n      email: \"\",\n      subject: \"\",\n      templateValues: {},\n      preview: \"\"\n    };\n\n    _this.swapFormActive = function (a) {\n      return function (param) {\n        return function (e) {\n          _this.setState({\n            ['formActivePanel' + a]: param,\n            ['formActivePanel' + a + 'Changed']: true\n          });\n        };\n      };\n    };\n\n    _this.handleSubmission = function (e) {\n      if (e.currentTarget.form.checkValidity()) {\n        var recipeUrl = 'http://localhost:9000/api/sendmail';\n        var postBody = {\n          template: _this.state.template,\n          templateValues: _this.state.templateValues,\n          email: _this.state.email,\n          subject: _this.state.subject\n        };\n        var requestMetadata = {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(postBody)\n        };\n\n        _this.setState({\n          isLoading: true,\n          isError: false\n        });\n\n        _this.handleNextPrevClick(1)(4)(e);\n\n        fetch(recipeUrl, requestMetadata).then(function (res) {\n          return res.json();\n        }).then(function (email) {\n          console.log(email);\n\n          _this.setState({\n            preview: email.text,\n            isLoading: false,\n            isError: false\n          });\n        }).catch(function (err) {\n          var errStatus = err.response ? err.response.status : 500;\n\n          _this.setState({\n            isLoading: false,\n            isError: true,\n            error: errStatus\n          });\n        });\n      }\n    };\n\n    _this.handleNextPrevClick = function (a) {\n      return function (param) {\n        return function (e) {\n          _this.setState({\n            ['formActivePanel' + a]: param,\n            ['formActivePanel' + a + 'Changed']: true\n          });\n        };\n      };\n    };\n\n    _this.updateFormValue = function (key) {\n      return function (evt) {\n        _this.state.templateValues[key] = evt.target.value;\n\n        _this.setState({\n          templateValues: _this.state.templateValues\n        });\n\n        _this.state.preview = _this.state.template;\n\n        for (var kkey in _this.state.templateValues) {\n          _this.state.preview = _this.state.preview.replace(\"%%\" + kkey + \"%%\", _this.state.templateValues[kkey]);\n        }\n\n        _this.setState({\n          preview: _this.state.preview\n        });\n      };\n    };\n\n    return _this;\n  }\n\n  _createClass(FormsPage, [{\n    key: \"DynamicFormCreator\",\n    value: function DynamicFormCreator() {\n      var _this2 = this;\n\n      var beautifyVariable = function beautifyVariable(variableName) {\n        var str = variableName.toString().split(\"_\").map(function (el) {\n          return el.charAt(0).toUpperCase() + el.slice(1);\n        }).join(\" \");\n        return str;\n      };\n\n      console.log(this.state);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: Object.keys(this.state.templateValues).map(function (key, ind) {\n          return /*#__PURE__*/_jsxDEV(MDBAnimation, {\n            type: \"fadeIn\",\n            duration: \"1s\",\n            children: /*#__PURE__*/_jsxDEV(MDBInput, {\n              label: beautifyVariable(key),\n              value: _this2.state.templateValues[key],\n              onChange: function onChange(evt) {\n                return _this2.updateFormValue(key)(evt);\n              },\n              className: \"mt-3 \",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 7\n            }, _this2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 7\n          }, _this2);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 5\n      }, this);\n    }\n  }, {\n    key: \"updateTemplateValue\",\n    value: function updateTemplateValue(evt) {\n      var _this3 = this;\n\n      var keys = this.state.template.match(/%%([a-zA-Z_]*)%%/g);\n\n      if (keys) {\n        keys = keys.map(function (el) {\n          return el.slice(2, el.length - 2);\n        });\n        keys.forEach(function (val, ind) {\n          if (!_this3.state.templateValues[val]) _this3.state.templateValues[val] = \"\";\n        });\n      }\n\n      this.setState({\n        template: evt.target.value\n      });\n      this.state.preview = this.state.template;\n\n      for (var key in this.state.templateValues) {\n        this.state.preview = this.state.preview.replace(\"%%\" + key + \"%%\", this.state.templateValues[key]);\n      }\n\n      this.setState({\n        preview: this.state.preview\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return /*#__PURE__*/_jsxDEV(MDBContainer, {\n        className: \"mt-5\",\n        children: /*#__PURE__*/_jsxDEV(MDBRow, {\n          children: /*#__PURE__*/_jsxDEV(MDBCol, {\n            md: \"12\",\n            children: /*#__PURE__*/_jsxDEV(SectionContainer, {\n              children: /*#__PURE__*/_jsxDEV(MDBContainer, {\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-center font-weight-bold pt-4 pb-1 mb-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Email form  \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 77\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 16\n                }, this), /*#__PURE__*/_jsxDEV(MDBRow, {\n                  children: [this.state.formActivePanel1 == 1 && /*#__PURE__*/_jsxDEV(MDBCol, {\n                    md: \"12\",\n                    children: /*#__PURE__*/_jsxDEV(\"form\", {\n                      role: \"form\",\n                      id: \"email_create_panel\",\n                      class: \"needs-validation\",\n                      action: \"\",\n                      method: \"post\",\n                      novalidate: true,\n                      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"font-weight-bold pl-0 my-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"Template\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 143,\n                          columnNumber: 64\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 143,\n                        columnNumber: 21\n                      }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n                        label: \"Template\",\n                        type: \"textarea\",\n                        id: \"templatetext\",\n                        rows: \"6\",\n                        value: this.state.template,\n                        onChange: function onChange(evt) {\n                          return _this4.updateTemplateValue(evt);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 144,\n                        columnNumber: 22\n                      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"font-weight-bold pl-0 my-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"Email\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 145,\n                          columnNumber: 65\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 145,\n                        columnNumber: 22\n                      }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n                        label: \"To Email\",\n                        type: \"email\",\n                        value: this.state.email,\n                        onChange: function onChange(evt) {\n                          return _this4.setState({\n                            email: evt.target.value\n                          });\n                        },\n                        className: \"mt-3 \",\n                        required: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 146,\n                        columnNumber: 20\n                      }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n                        label: \"Subject\",\n                        value: this.state.subject,\n                        onChange: function onChange(evt) {\n                          return _this4.setState({\n                            subject: evt.target.value\n                          });\n                        },\n                        className: \"mt-3 \",\n                        required: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 147,\n                        columnNumber: 20\n                      }, this), /*#__PURE__*/_jsxDEV(MDBAnimation, {\n                        type: \"fadeIn\",\n                        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                          className: \"font-weight-bold pl-0 my-4\",\n                          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Template Values\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 149,\n                            columnNumber: 63\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 149,\n                          columnNumber: 20\n                        }, this), this.DynamicFormCreator(), /*#__PURE__*/_jsxDEV(\"h3\", {\n                          className: \"font-weight-bold pl-0 my-4\",\n                          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Preview\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 152,\n                            columnNumber: 63\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 152,\n                          columnNumber: 20\n                        }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n                          label: \"Template\",\n                          className: \"\",\n                          type: \"textarea\",\n                          id: \"templatetext\",\n                          rows: \"6\",\n                          value: this.state.preview,\n                          required: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 153,\n                          columnNumber: 20\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 148,\n                        columnNumber: 20\n                      }, this), /*#__PURE__*/_jsxDEV(MDBBtn, {\n                        color: \"success\",\n                        rounded: true,\n                        className: \"float-right\",\n                        onClick: this.handleSubmission,\n                        type: \"submit\",\n                        children: \"submit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 155,\n                        columnNumber: 20\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 142,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 141,\n                    columnNumber: 22\n                  }, this), this.state.formActivePanel1 == 4 && /*#__PURE__*/_jsxDEV(MDBCol, {\n                    md: \"12\",\n                    children: /*#__PURE__*/_jsxDEV(MDBAnimation, {\n                      type: \"fadeIn\",\n                      children: /*#__PURE__*/_jsxDEV(\"form\", {\n                        role: \"form\",\n                        id: \"email_send_panel\",\n                        class: \"needs-validation\",\n                        action: \"\",\n                        method: \"post\",\n                        children: [!this.state.isLoading && !this.state.isError && /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                            className: \"text-center font-weight-bold my-4\",\n                            children: \"Email sent!\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 164,\n                            columnNumber: 78\n                          }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n                            label: \"To Email\",\n                            type: \"email\",\n                            value: this.state.email,\n                            readonly: true,\n                            className: \"mt-3\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 165,\n                            columnNumber: 23\n                          }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n                            label: \"Subject\",\n                            value: this.state.subject,\n                            readonly: true,\n                            className: \"mt-3\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 166,\n                            columnNumber: 23\n                          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                            className: \"font-weight-bold pl-0 my-4\",\n                            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                              children: \"Preview\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 167,\n                              columnNumber: 66\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 167,\n                            columnNumber: 23\n                          }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n                            label: \"Template\",\n                            type: \"textarea\",\n                            id: \"templatetext\",\n                            rows: \"6\",\n                            value: this.state.preview\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 168,\n                            columnNumber: 23\n                          }, this), /*#__PURE__*/_jsxDEV(MDBBtn, {\n                            color: \"mdb-color\",\n                            rounded: true,\n                            className: \"float-right\",\n                            onClick: this.handleNextPrevClick(1)(1),\n                            children: \"Return to start\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 169,\n                            columnNumber: 23\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 164,\n                          columnNumber: 73\n                        }, this), this.state.isLoading && /*#__PURE__*/_jsxDEV(\"h2\", {\n                          className: \"text-center font-weight-bold my-4\",\n                          children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                            class: \"spinner-grow text-success\",\n                            style: {\n                              fontSize: \"40px\"\n                            },\n                            role: \"status\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 173,\n                            columnNumber: 76\n                          }, this), \"  \\xA0 Busy sending\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 173,\n                          columnNumber: 25\n                        }, this), !this.state.isLoading && this.state.isError && /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                            className: \"text-center font-weight-bold my-4\",\n                            children: [\" \", /*#__PURE__*/_jsxDEV(MDBIcon, {\n                              icon: \"exclamation-triangle\",\n                              size: \"lg\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 179,\n                              columnNumber: 76\n                            }, this), \"  \\xA0 Error: Email not sent. Code \", this.state.error, \" \"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 179,\n                            columnNumber: 25\n                          }, this), /*#__PURE__*/_jsxDEV(MDBBtn, {\n                            color: \"mdb-color\",\n                            rounded: true,\n                            className: \"float-right\",\n                            onClick: this.handleNextPrevClick(1)(1),\n                            children: \"Return to start\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 180,\n                            columnNumber: 24\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 178,\n                          columnNumber: 23\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 163,\n                        columnNumber: 26\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 162,\n                      columnNumber: 38\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 22\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return FormsPage;\n}(Component);\n\nexport default FormsPage;","map":{"version":3,"sources":["C:/Users/lukas/Desktop/MailMergeExercise/mailmergeexercise/frontend/src/pages/FormsPage.js"],"names":["React","Component","MDBContainer","MDBRow","MDBCol","MDBInput","MDBBtn","MDBIcon","MDBAnimation","SectionContainer","FormsPage","state","formActivePanel1","formActivePanel1Changed","template","isLoading","isError","email","subject","templateValues","preview","swapFormActive","a","param","e","setState","handleSubmission","currentTarget","form","checkValidity","recipeUrl","postBody","requestMetadata","method","headers","body","JSON","stringify","handleNextPrevClick","fetch","then","res","json","console","log","text","catch","err","errStatus","response","status","error","updateFormValue","key","evt","target","value","kkey","replace","beautifyVariable","variableName","str","toString","split","map","el","charAt","toUpperCase","slice","join","Object","keys","ind","match","length","forEach","val","updateTemplateValue","DynamicFormCreator","fontSize"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {\r\n  MDBContainer,\r\n  MDBRow,\r\n  MDBCol,\r\n  MDBInput,\r\n  MDBBtn,\r\n  MDBIcon,\r\n  MDBAnimation\r\n} from 'mdbreact';\r\nimport SectionContainer from '../components/sectionContainer';\r\nclass FormsPage extends Component {\r\n  state = {\r\n    formActivePanel1: 1,\r\n    formActivePanel1Changed: false,\r\n    template : \"\",\r\n    isLoading:false,\r\n    isError:false,\r\n    email:\"\",\r\n    subject:\"\",\r\n    templateValues:{},\r\n    preview:\"\"\r\n  };\r\n\r\n\r\n  swapFormActive = (a) => (param) => (e) => {\r\n    this.setState({\r\n      ['formActivePanel' + a]: param,\r\n      ['formActivePanel' + a + 'Changed']: true\r\n    });\r\n  }\r\n   \r\n  handleSubmission = (e)=>{\r\n    if(e.currentTarget.form.checkValidity()){\r\n      \r\n      const recipeUrl = 'http://localhost:9000/api/sendmail';\r\n      const postBody = {\r\n          template: this.state.template,\r\n          templateValues : this.state.templateValues,\r\n          email : this.state.email,\r\n          subject : this.state.subject\r\n      };\r\n      const requestMetadata = {\r\n          method: 'POST',\r\n          headers: {\r\n              'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(postBody)\r\n      };\r\n      this.setState({  isLoading:true,isError:false });\r\n      this.handleNextPrevClick(1)(4)(e);\r\n\r\n      fetch(recipeUrl, requestMetadata)\r\n          .then(res => res.json())\r\n          .then(email => {\r\n              console.log(email);\r\n              this.setState({ preview:email.text, isLoading:false, isError:false });\r\n\r\n          }).catch(err => {\r\n            const errStatus = err.response ? err.response.status : 500;\r\n            \r\n              this.setState({ isLoading:false, isError:true, error: errStatus});\r\n           \r\n          });\r\n     }\r\n      \r\n  }\r\n  handleNextPrevClick = (a) => (param) => (e) => {\r\n    \r\n    this.setState({\r\n      ['formActivePanel' + a]: param,\r\n      ['formActivePanel' + a + 'Changed']: true\r\n    });\r\n  }\r\n  \r\nDynamicFormCreator(){\r\n  const beautifyVariable = (variableName) =>{\r\n    var str = variableName.toString().split(\"_\").map((el)=>{return el.charAt(0).toUpperCase()  + el.slice(1);}).join(\" \");\r\n    return str;\r\n  };\r\n  console.log(this.state);\r\n  return (\r\n    <div>\r\n    {Object.keys(this.state.templateValues).map( (key, ind) => {return (\r\n      <MDBAnimation type=\"fadeIn\" duration=\"1s\">\r\n      <MDBInput label={beautifyVariable(key)} value={this.state.templateValues[key]}  onChange={evt => this.updateFormValue(key)(evt)} className=\"mt-3 \" required/>\r\n      </MDBAnimation>)})}\r\n    </div>\r\n  );\r\n\r\n};\r\nupdateFormValue = (key) => (evt) => {\r\n  this.state.templateValues[key] =  evt.target.value;\r\n\r\n  this.setState({\r\n    templateValues: this.state.templateValues\r\n  });\r\n  this.state.preview = this.state.template;\r\n  for(var kkey in this.state.templateValues ){\r\n    this.state.preview = this.state.preview.replace(\"%%\" + kkey + \"%%\",this.state.templateValues[kkey]);\r\n  }\r\n  this.setState({\r\n    preview: this.state.preview \r\n  });\r\n}\r\nupdateTemplateValue(evt){\r\n  var keys = this.state.template.match(/%%([a-zA-Z_]*)%%/g);\r\n  if(keys){\r\n    keys = keys.map((el)=>{return el.slice(2,el.length-2);});\r\n    keys.forEach((val,ind)=>{if(!this.state.templateValues[val])this.state.templateValues[val]=\"\";});\r\n  }\r\n  \r\n  this.setState({\r\n    template: evt.target.value\r\n  });\r\n  \r\n  this.state.preview = this.state.template;\r\n  for(var key in this.state.templateValues ){\r\n    this.state.preview = this.state.preview.replace(\"%%\" + key + \"%%\",this.state.templateValues[key]);\r\n  }\r\n  this.setState({\r\n    preview: this.state.preview \r\n  });\r\n}\r\n  render() {\r\n\r\n    return (\r\n      <MDBContainer className='mt-5'>\r\n        \r\n       \r\n          <MDBRow>\r\n            <MDBCol md='12'>\r\n              <SectionContainer>\r\n              <MDBContainer>\r\n                <h2 className=\"text-center font-weight-bold pt-4 pb-1 mb-2\"><strong>Email form  </strong></h2>\r\n               <hr></hr>\r\n\r\n              \r\n                  <MDBRow>\r\n                    {this.state.formActivePanel1 == 1 &&\r\n                    (<MDBCol md=\"12\">\r\n                        <form role=\"form\" id=\"email_create_panel\" class=\"needs-validation\" action=\"\" method=\"post\" novalidate>\r\n                    <h3 className=\"font-weight-bold pl-0 my-4\"><strong>Template</strong></h3>\r\n                     <MDBInput label=\"Template\" type=\"textarea\" id=\"templatetext\" rows=\"6\" value={this.state.template} onChange={evt => this.updateTemplateValue(evt)}/>\r\n                     <h3 className=\"font-weight-bold pl-0 my-4\"><strong>Email</strong></h3> \r\n                   <MDBInput label=\"To Email\" type=\"email\" value={this.state.email} onChange={evt => this.setState({email: evt.target.value})} className=\"mt-3 \" required/>\r\n                   <MDBInput label=\"Subject\" value={this.state.subject} onChange={evt => this.setState({subject: evt.target.value})} className=\"mt-3 \" required/>\r\n                   <MDBAnimation type=\"fadeIn\">\r\n                   <h3 className=\"font-weight-bold pl-0 my-4\"><strong>Template Values</strong></h3>\r\n                   {this.DynamicFormCreator()}\r\n                   \r\n                   <h3 className=\"font-weight-bold pl-0 my-4\"><strong>Preview</strong></h3>\r\n                   <MDBInput label=\"Template\" className=\"\" type=\"textarea\" id=\"templatetext\" rows=\"6\" value={this.state.preview} required/>\r\n                   </MDBAnimation>\r\n                   <MDBBtn color=\"success\" rounded className=\"float-right\" onClick={this.handleSubmission} type=\"submit\">submit</MDBBtn>\r\n                   </form>\r\n                 </MDBCol>)}\r\n\r\n                  \r\n\r\n                    {this.state.formActivePanel1 == 4 &&\r\n                    (<MDBCol md=\"12\"><MDBAnimation type=\"fadeIn\">\r\n                         <form role=\"form\" id=\"email_send_panel\" class=\"needs-validation\" action=\"\" method=\"post\">\r\n                      {!this.state.isLoading && !this.state.isError && (<div><h2 className=\"text-center font-weight-bold my-4\">Email sent!</h2>\r\n                      <MDBInput label=\"To Email\" type=\"email\" value={this.state.email} readonly className=\"mt-3\"/>\r\n                      <MDBInput label=\"Subject\" value={this.state.subject} readonly className=\"mt-3\"/>\r\n                      <h3 className=\"font-weight-bold pl-0 my-4\"><strong>Preview</strong></h3>\r\n                      <MDBInput label=\"Template\" type=\"textarea\" id=\"templatetext\" rows=\"6\" value={this.state.preview}/>\r\n                      <MDBBtn color=\"mdb-color\" rounded className=\"float-right\" onClick={this.handleNextPrevClick(1)(1)}>Return to start</MDBBtn>\r\n                      </div>)}\r\n                      {this.state.isLoading && (\r\n                      \r\n                        <h2 className=\"text-center font-weight-bold my-4\"> <div class=\"spinner-grow text-success\" style={{fontSize:\"40px\"}} role=\"status\">\r\n                      </div>  &nbsp; Busy sending</h2>\r\n                                           \r\n                      )}\r\n                       {!this.state.isLoading && this.state.isError && (\r\n                      <div>\r\n                        <h2 className=\"text-center font-weight-bold my-4\"> <MDBIcon icon=\"exclamation-triangle\" size=\"lg\"/>  &nbsp; Error: Email not sent. Code {this.state.error} </h2>\r\n                       <MDBBtn color=\"mdb-color\" rounded className=\"float-right\" onClick={this.handleNextPrevClick(1)(1)}>Return to start</MDBBtn>\r\n                      </div>\r\n                      )}\r\n                       </form></MDBAnimation>\r\n                    </MDBCol>)}\r\n                  </MDBRow>\r\n                \r\n              </MDBContainer>\r\n              </SectionContainer>\r\n            </MDBCol>\r\n            \r\n          </MDBRow>\r\n\r\n      </MDBContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FormsPage;\r\n"]},"metadata":{},"sourceType":"module"}